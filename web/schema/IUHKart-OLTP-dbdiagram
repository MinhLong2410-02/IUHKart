Table order {
  order_id int [primary key, not null]
  order_number varchar(255)
  shipping_date date
  order_date date
  order_amount float
  order_status varchar(255) //enum('pending', 'processing', 'shipped', 'delivered', 'cancelled')
  // cart_id int [not null]
  customer_id int [not null]
  address_id int
  total_price float
}

Table order_product {
  order_product_id int [pk, not null]
  product_id int [not null]
  order_id int [not null]
  price float // Giá đề xuất
  quantity int
}


Table product {
  product_id int [pk, not null]
  product_name varchar(255)
  vendor_id int [not null] 
  category_id int [not null]  
  original_price float // Giá gốc
  stock int
  ratings float
  brand varchar(255)
  slug varchar(255)
  date_add date
  product_description text
}

Table product_image{
  product_img_id int [pk]
  product_id int 
  product_img_url varchar
  is_main bool
}

Table discount{
  discount_id int pk
  vendor_id int
  product_id int
  name varchar(100)
  discount_percent float
  date_created date
  start_date date
  end_date date
  in_use bool
}

table order_product_discount{
  order_product_discount int pk
  order_product_id int
  discount_id int
}

Table cart {
  cart_id int [primary key, not null]
  grand_total float
  items_total int
}

Table cart_product{
  cart_product_id int [primary key, not null]
  cart_id int [not null]
  product_id int [not null]
  quantity int
}

Table review {
  review_id int [primary key, not null]
  review_content text
  review_rating varchar(255) //enum('1', '2', '3', '4', '5') // Possible values: '1', '2', '3', '4', '5'
  review_date timestamp
  product_id int [not null]  
  customer_id int [not null]  
}

Table vendor {
  vendor_id int pk
  vendor_name varchar(255)
  description text
  vendor_logo varchar(200)
}
Table customer {
  customer_id int pk
  cart_id int
  fullname varchar(30)
  date_of_birth date
  age smallint
  avatar_url varchar(200)
  date_join date
  recommend_product_ids "int[]" [default: "[]"]
}

Table user{
  user_id int pk
  address_id int
  email varchar(50)
  phone varchar(20)
}

Table category {
  category_id int pk
  category_name varchar(255)
  slug varchar(255)
  category_img_url varchar(255)
}

enum transaction_status {
    pending 
    completed
    failed
    refunded
}

table transaction{
  transaction_id int pk
  order_id int [unique]
  transation_date datetime
  status transaction_status
  customer_id int
  total_money float
}

Table address {
  address_id int [pk, not null]
  province_id int
  district_id int
  ward_id int
  address_detail varchar(200)
}

table province{
  province_id int [pk]
  province_name varchar(50)
  province_name_en varchar(50)
  type varchar(10) //enum: city, province
}

table district{
  district_id int [pk]
  province_id int
  district_name varchar(50)
  district_name_en varchar(50)
  type varchar(15) //enum: city, urban (quận), rural (huyện), town (thị xã)
}

table ward{
  ward_id int [pk]
  ward_name varchar(50)
  ward_name_en varchar(50)
  province_id int
  district_id int
  type varchar(10) //enum: ward, commune, town
}

table bank_account{
  bank_account_id int [pk, not null]
  vendor_id int
  bank_name varchar(255)
  account_number varchar(255)
  account_holder_name varchar(255)
  branch_name varchar(255)
}

ref: discount.vendor_id > vendor.vendor_id
ref: discount.product_id - product.product_id
ref: bank_account.vendor_id - vendor.vendor_id
ref: order_product_discount.discount_id > discount.discount_id
ref: order_product_discount.order_product_id > order_product.order_product_id
Ref: cart_product.cart_id > cart.cart_id
Ref: cart_product.product_id > product.product_id
Ref: address.province_id > province.province_id
Ref: address.district_id > district.district_id
Ref: address.ward_id > ward.ward_id
Ref: district.province_id > province.province_id
Ref: ward.district_id > district.district_id
Ref: ward.province_id > province.province_id
Ref: user.user_id - vendor.vendor_id
Ref: user.user_id - customer.customer_id
Ref: transaction.order_id - order.order_id
Ref: order.customer_id > customer.customer_id
Ref: order_product.order_id > order.order_id
Ref: order_product.product_id > product.product_id
Ref: product.vendor_id > vendor.vendor_id
Ref: product.category_id > category.category_id
Ref: transaction.customer_id > customer.customer_id
Ref: address.address_id - user.address_id
Ref: address.address_id - order.address_id
Ref: cart.cart_id - customer.cart_id
Ref: review.customer_id > customer.customer_id
Ref: review.product_id > product.product_id
Ref: product_image.product_id > product.product_id
